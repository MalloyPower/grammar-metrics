<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SynQ: main.cpp File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>main.cpp File Reference</h1>Handles command line input, and contains the functions that print the metrics.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;iostream&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;cmath&gt;</code><br>
<code>#include "<a class="el" href="Grammar_8h-source.html">Grammar.h</a>"</code><br>

<p>
Include dependency graph for main.cpp:<p><center><img src="main_8cpp__incl.png" border="0" usemap="#main.cpp_map" alt="Include dependency graph"></center>
<map name="main.cpp_map">
<area href="RightPart_8h.html" shape="rect" coords="213,93,285,117" alt="">
<area href="Vocab_8h.html" shape="rect" coords="68,93,124,117" alt="">
<area href="GrammarLevels_8h.html" shape="rect" coords="309,93,424,117" alt="">
<area href="Grammar_8h.html" shape="rect" coords="412,168,486,192" alt="">
<area href="Visitor_8h.html" shape="rect" coords="231,19,284,43" alt="">
</map>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a3">yyparse</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The parsing routine generated by bison; returns 0 if the parse went OK.  <a href="#a3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a4">printSimpleResults</a> (std::ostream &amp;out)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Just print out the count of symbols, average size and McCabe.  <a href="#a4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a5">printLevelSizes</a> (std::ostream &amp;out)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Just print the grammar-level sizes, one per line.  <a href="#a5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a6">printBriefResults</a> (std::ostream &amp;out)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Summarise all the results on a single line (handy for tables).  <a href="#a6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a7">printResults</a> (std::ostream &amp;out)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The full results output, showing all the metrics as well as the derives relationship and equivalence classes.  <a href="#a7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a8">printUsageAndExit</a> (const char *progname, int exitval)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print usage information and exit.  <a href="#a8"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a9">process_arguments</a> (int argc, char *argv[])</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process the command line arguments, setting printFunction and yyin as appropriate.  <a href="#a9"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a10">main</a> (int argc, char *argv[])</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process command-line inputs, parse the file, and print the metrics.  <a href="#a10"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>FILE *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a0">yyin</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The file that bison reads its input from; allow the user to change this.  <a href="#a0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classGrammar.html">Grammar</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a1">theGrammar</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A single instance of the grammar object.  <a href="#a1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void(*&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="main_8cpp.html#a2">printFunction</a> )(std::ostream &amp;)=printResults</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This pointer is set to one of the above print functions, based on command-line swtiches.  <a href="#a2"></a><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Handles command line input, and contains the functions that print the metrics. 
<p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a10" doxytag="main.cpp::main" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int main </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>argc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>argv</em>[]</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process command-line inputs, parse the file, and print the metrics. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="main.cpp::printBriefResults" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void printBriefResults </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::ostream &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>out</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Summarise all the results on a single line (handy for tables). 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="main.cpp::printLevelSizes" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void printLevelSizes </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::ostream &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>out</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Just print the grammar-level sizes, one per line. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="main.cpp::printResults" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void printResults </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::ostream &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>out</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The full results output, showing all the metrics as well as the derives relationship and equivalence classes. 
<p>
The following is the full list of the data that is printed:<ul>
<li>The grammar rules</li><li>The number of terminals and non-terminals</li><li>The McCabe complexity value for the whole grammar</li><li>The Halstead volume value for the whole grammar</li><li>The average RHS size</li><li>The derives-in-one relation, as a 2D array, indexed by non-ts</li><li>The derives-in-many relation, as a 2D array, indexed by non-ts</li><li>Fenton's tree impurity value for the derives-in-one relation</li><li>Fenton's tree impurity value for the derives-in-many relation</li><li>The equivalence classes, listed by number, along with with their contents (non-terminals)</li><li>The number of equiv. classes, the number that are non-singleton</li><li>The number of equiv. classes as a age of the number of non-ts</li><li>The size (no. of nonterminals) of the largest equiv. class</li><li>The value of the Varju height metric</li><li>The equivalence relation, printed as a 2D matrix indexed by equivalence class numbers </li></ul>
    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="main.cpp::printSimpleResults" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void printSimpleResults </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">std::ostream &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>out</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Just print out the count of symbols, average size and McCabe. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="main.cpp::printUsageAndExit" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void printUsageAndExit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const char *&nbsp;</td>
          <td class="mdname" nowrap> <em>progname</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>exitval</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Print usage information and exit. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="main.cpp::process_arguments" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void process_arguments </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>argc</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>argv</em>[]</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Process the command line arguments, setting printFunction and yyin as appropriate. 
<p>
Command-line switches correspond to the print functions defined above, as follows:<ul>
<li>-b = printBriefResults</li><li>-l = printLevelSizes</li><li>-s = printSimpleResults</li></ul>
<p>
Default print function is printResults.<p>
If no input file is specified by the user, then std input is used.     </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="main.cpp::yyparse" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int yyparse </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The parsing routine generated by bison; returns 0 if the parse went OK. 
<p>
    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="a2" doxytag="main.cpp::printFunction" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void(* <a class="el" href="main_8cpp.html#a2">printFunction</a>)(std::ostream &amp;) = printResults<code> [static]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This pointer is set to one of the above print functions, based on command-line swtiches. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="main.cpp::theGrammar" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classGrammar.html">Grammar</a> <a class="el" href="main_8cpp.html#a1">theGrammar</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A single instance of the grammar object. 
<p>
Not static, since it must be visible to lex.yy.c. Should probably have made this a singleton class...     </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="main.cpp::yyin" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> FILE* <a class="el" href="main_8cpp.html#a0">yyin</a>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The file that bison reads its input from; allow the user to change this. 
<p>
The default value (assigned by bison) is standard input.     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat Jul 9 14:10:51 2005 for SynQ by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
